<ng-container *ngIf="source != null">
  <table mat-table [dataSource]="source" class="tablel__content">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td class="element__name" mat-cell *matCellDef="let element">
        <div class="name__icon">
          <div class="icon">
            <svg [attr.fill]="element.color | svgStyle" *ngIf="element.context === 'FOLDER'" fill="element.color" x="0px" y="0px" focusable="false"
              viewBox="0 0 24 24" height="24px" width="24px" fill="#5f6368">
              <path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z">
              </path>
              <path d="M0 0h24v24H0z" fill="none"></path>
            </svg>
            <app-file-icon *ngIf="element.context === 'FILE'" [extension]="element.name | fileExtension"
              [path]="element?.path?.fullPath"></app-file-icon>
          </div>
          <span>{{element?.name}}</span>

          <ng-container *ngIf="element.noticed">
            <svg class="noticed" [attr.fill]="element.isSelected ? '#1967d2' :'#b2b2b2' "  width="16px" height="16px" viewBox="0 0 16 16" focusable="false" fill=""><path d="M8,11.5133333 L12.12,14 L11.0266667,9.31333333 L14.6666667,6.16 L9.87333333,5.75333333 L8,1.33333333 L6.12666667,5.75333333 L1.33333333,6.16 L4.97333333,9.31333333 L3.88,14 L8,11.5133333 Z"></path></svg>
          </ng-container>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="owner">
      <th mat-header-cell *matHeaderCellDef> Owner </th>
      <td mat-cell *matCellDef="let element"> {{element?.owner?.firstName}} {{element?.owner?.lastName}}</td>
    </ng-container>

    <ng-container matColumnDef="lastChanged">
      <th mat-header-cell *matHeaderCellDef> Last changed </th>
      <td mat-cell *matCellDef="let element"> {{element?.createAt | date: 'dd-MM-yyyy HH:ss'}} </td>
    </ng-container>

    <ng-container matColumnDef="size">
      <th mat-header-cell *matHeaderCellDef> Size </th>
      <td mat-cell *matCellDef="let element">
        <span *ngIf="element.context == 'FOLDER'"> - </span>
        <span>{{element?.size | fileSize}}</span></td>
    </ng-container>

    <tr mat-header-row class="table__header" *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr (dblclick)="open(row)" (contextmenu)="openContextMenu($event, row, i)" (click)="selectElement(row, $event, i)"
      [class.active]="row.isSelected" class="row__table" mat-row
      *matRowDef="let row; columns: displayedColumns; let i = index">
    </tr>


  </table>
</ng-container>



<div style="visibility: hidden; position: fixed;" [style.left]="menuTopLeftPosition.x"
  [style.top]="menuTopLeftPosition.y" [matMenuTriggerFor]="rightMenu"></div>

<mat-menu #rightMenu="matMenu" class="context__menu">

  <ng-template matMenuContent let-element="element">
    <app-context-menu [selectedElements]="selectedElements" (changeColor)="changeColor($event)" [element]="element" [driveName]="driveName" [source]="source">
    </app-context-menu>
  </ng-template>
</mat-menu>
